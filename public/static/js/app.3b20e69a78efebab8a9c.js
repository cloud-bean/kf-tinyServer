webpackJsonp([2,0],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var a=n(140),s=o(a),i=n(444),r=o(i),c=n(451),u=o(c),d=n(450),p=o(d),l=n(448),f=o(l),v=n(447),b=o(v),x=n(449),h=o(x),_=n(446),m=o(_);s["default"].use(u["default"]),s["default"].use(p["default"]),s["default"].directive("echarts",n(161));var g=new u["default"]({history:!0,hashbang:!1,linkActiveClass:"active"});g.mode="html5",g.map({"/":{component:m["default"]},"/rank":{component:f["default"]},"/auth":{component:b["default"]},"/signup":{component:h["default"]}}),g.start(r["default"],"app")},159:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={appid:"wxb3762a929cf9e070",appsecret:"0a607b7dc2ff4fa027b8594a99f9e086"}},160:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n,o){var a="https://open.weixin.qq.com/connect/oauth2/authorize",s={appid:e,redirect_uri:t,response_type:"code",scope:o||"snsapi_base",state:n||""};return a+"?"+c.stringify(s)+"#wechat_redirect"}function s(e,t){localStorage.setItem("kf_accessToken",e),localStorage.setItem("kf_user",(0,r["default"])(t))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(167),r=o(i),c=n(435);t["default"]={getAuthorizeURL:a,storeUserInfo:s}},161:function(e,t,n){"use strict";var o=n(140),a=n(205);e.exports={deep:!0,params:["loading"],paramWatchers:{loading:function(e,t){var n=this;e===!0?n.instance.showLoading():n.instance.hideLoading()}},bind:function(){var e=this;o.nextTick(function(){e.instance=a.init(e.el),e.params.loading===!0&&e.instance.showLoading();var t=new Event("resize");e.resizeEventHandler=function(){e.instance.resize()},e.el.addEventListener("resize",e.resizeEventHandler,!1),window.onresize=function(){e.el.dispatchEvent(t)}})},update:function(e,t){var n=this,a=e;o.nextTick(function(){n.instance.setOption(a)})},unbind:function(){var e=this;e.instance.dispose(),e.el.removeEventListener("resize",e.resizeEventHandler,!1)}}},162:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{user:"咸蛋超人"}}}},163:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(159),s=o(a),i=n(160),r=o(i);t["default"]={data:function(){return{}},created:function(){if(localStorage.getItem("kf_accessToken"))this.$router.go("/auth?state=user");else{var e=r["default"].getAuthorizeURL(s["default"].appid,"http://joywill.cc/auth","wechat","snsapi_userinfo");console.log(e),window.location.href=e}}}},164:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(168),s=o(a),i=n(169),r=o(i),c=n(452),u=n(170);t["default"]={data:function(){return{user:{}}},created:function(){console.log("created"),u(r["default"].mark(function e(){var t,n,o,a;return r["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=c("?"),n=t.state,"wechat"!=n){e.next=13;break}return e.next=6,this.auth(config.appid,t.code);case 6:return o=e.sent,e.next=9,this.getUserInfo(o.userid,o.accessToken);case 9:a=e.sent,this.user=a,e.next=14;break;case 13:"user"==n&&(this.user=localStorage.getItem("kf_user"));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),console.log(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}))},methods:{auth:function(e,t){var n=this;return new s["default"](function(e,t){n.$http.get("http://joywill.cc/admin/auth?appid="+config.appid+"&code="+query.code).then(function(t){console.log(t);var n=t.userid,o=t.accessToken;e({userid:n,accessToken:o})})["catch"](function(e){t(e)})})},getUserInfo:function(e,t){var n=this;return new s["default"](function(t,o){n.$http.get("http://120.25.227.156:7000/api/base/users/"+e,{withCredentials:!0,headers:{Authorization:"Bearer "+access_token}}).then(function(e){console.log(e),t(e.data)})["catch"](function(e){o(e)})})}}}},165:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(445),s=o(a);t["default"]={components:{vs:s["default"]},data:function(){return{users:[{nickname:"辛那克斯",keepdays:1,cont_keepdays:2,level:1,score:200,city:"xian",headimgurl:"http://cloudbean.qiniudn.com/hbg2-100x81-logo.png"},{nickname:"辛那克斯2",keepdays:1,cont_keepdays:2,level:1,score:200,city:"xian",headimgurl:"http://cloudbean.qiniudn.com/hbg2-100x81-logo.png"}]}}}},166:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{}},methods:{}}},428:function(e,t){},429:function(e,t){},430:function(e,t){},431:function(e,t){},432:function(e,t){},438:function(e,t){e.exports=' <div id=app class=container> <nav class="navbar navbar-fixed-bottom navbar-light bg-faded"> <a class=navbar-brand href=#>Joy & Will</a> <a class="btn btn-default" v-link="{ path: \'/auth\'}">Profile</a> <a class="btn btn-default" v-link="{ path: \'/rank\'}">Rank</a> <a class="btn btn-default" v-link="{ path: \'/signup\'}">Signup</a> </nav> <div id=routerDiv> <router-view></router-view> </div> </div> '},439:function(e,t){e.exports=" loading.... "},440:function(e,t){e.exports=' <div class=login _v-4d53885a=""> <img src=xxxHTMLLINKxxx0.35666891695307990.7404750574113015xxx alt=headpic _v-4d53885a=""> <span class=info _v-4d53885a="">姓名</span> <input type=text placeholder=真实姓名 v-model=username _v-4d53885a=""> <input type=text placeholder=手机号 v-model=password _v-4d53885a=""> <button class="btn btn-default" v-on:click=login _v-4d53885a="">login</button> </div> '},441:function(e,t){e.exports=' <div _v-6a845e04=""> <p _v-6a845e04="">login page. in the route /auth</p> user: {{user.displayName}} <div _v-6a845e04=""> </div> </div>'},442:function(e,t){e.exports=' <vs _v-7b602bc5=""></vs> <div class=card _v-7b602bc5=""> <div class=card-header _v-7b602bc5="">Rank</div> <div class=card-content _v-7b602bc5=""> <div class="list-block media-list" _v-7b602bc5=""> <ul _v-7b602bc5=""> <li class=item-content v-for="user in users" _v-7b602bc5=""> <div class=rank _v-7b602bc5=""> </div> <div class=item-media _v-7b602bc5=""> </div> <div class=item-inner _v-7b602bc5=""> <div class=item-title-row _v-7b602bc5=""> <div class=item-title _v-7b602bc5="">{{user.nickname}}</div> </div> <div class=item-subtitle _v-7b602bc5=""> Keep:{{user.keepdays}} | 连击:{{user.cont_keepdays}}</div> </div> <div class=like _v-7b602bc5=""> <i class="fa fa-heart fa-lg" _v-7b602bc5=""></i><br _v-7b602bc5=""> </div> </li> </ul> </div> </div> </div> '},443:function(e,t){e.exports=' <div class=vs _v-9440db94=""> {{user}} vs {{user}} </div> '},444:function(e,t,n){var o,a,s={};n(428),a=n(438),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(i.template=a),i.computed||(i.computed={}),Object.keys(s).forEach(function(e){var t=s[e];i.computed[e]=function(){return t}})},445:function(e,t,n){var o,a,s={};n(432),o=n(162),a=n(443),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(i.template=a),i.computed||(i.computed={}),Object.keys(s).forEach(function(e){var t=s[e];i.computed[e]=function(){return t}})},446:function(e,t,n){var o,a,s={};o=n(163),a=n(439),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(i.template=a),i.computed||(i.computed={}),Object.keys(s).forEach(function(e){var t=s[e];i.computed[e]=function(){return t}})},447:function(e,t,n){var o,a,s={};n(430),o=n(164),a=n(441),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(i.template=a),i.computed||(i.computed={}),Object.keys(s).forEach(function(e){var t=s[e];i.computed[e]=function(){return t}})},448:function(e,t,n){var o,a,s={};n(431),o=n(165),a=n(442),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(i.template=a),i.computed||(i.computed={}),Object.keys(s).forEach(function(e){var t=s[e];i.computed[e]=function(){return t}})},449:function(e,t,n){var o,a,s={};n(429),o=n(166),a=n(440),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var i="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(i.template=a),i.computed||(i.computed={}),Object.keys(s).forEach(function(e){var t=s[e];i.computed[e]=function(){return t}})}});
//# sourceMappingURL=app.3b20e69a78efebab8a9c.js.map