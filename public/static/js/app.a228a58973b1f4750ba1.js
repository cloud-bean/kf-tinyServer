webpackJsonp([2,0],{0:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=o(147),s=n(a),r=o(451),i=n(r),c=o(458),u=n(c),d=o(457),l=n(d),p=o(455),f=n(p),v=o(454),h=n(v),b=o(456),x=n(b),_=o(453),m=n(_);s["default"].use(u["default"]),s["default"].use(l["default"]),s["default"].directive("echarts",o(168));var g=new u["default"];g.map({"/":{component:m["default"]},"/rank":{component:f["default"]},"/auth":{component:h["default"]},"/signup":{component:x["default"]}}),g.start(i["default"],"app")},96:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={appid:"wxb3762a929cf9e070",appsecret:"0a607b7dc2ff4fa027b8594a99f9e086",route:{auth:"http://joywill.cc/admin/auth/",user:"http://120.25.227.156:7000/api/base/users/"}}},167:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,o,n){var a="https://open.weixin.qq.com/connect/oauth2/authorize",s={appid:e,redirect_uri:t,response_type:"code",scope:n||"snsapi_base",state:o||""};return a+"?"+p.stringify(s)+"#wechat_redirect"}function s(e,t){localStorage.setItem("kf_accessToken",e),localStorage.setItem("kf_user",(0,l["default"])(t))}function r(e,t){var o=this;return new u["default"](function(n,a){o.$http.get("http://joywill.cc/admin/auth?appid="+e+"&code="+t).then(function(e){console.log(e);var t=e.userid,o=e.accessToken;n({userid:t,accessToken:o})})["catch"](function(e){a(e)})})}function i(e,t){var o=this;return new u["default"](function(n,a){o.$http.get("http://120.25.227.156:7000/api/base/users/"+e,{withCredentials:!0,headers:{Authorization:"Bearer "+t}}).then(function(e){console.log(e),n(e.data)})["catch"](function(e){a(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var c=o(98),u=n(c),d=o(97),l=n(d),p=o(442);t["default"]={getAuthorizeURL:a,storeUserInfo:s,auth:r,getUserInfo:i}},168:function(e,t,o){"use strict";var n=o(147),a=o(212);e.exports={deep:!0,params:["loading"],paramWatchers:{loading:function(e,t){var o=this;e===!0?o.instance.showLoading():o.instance.hideLoading()}},bind:function(){var e=this;n.nextTick(function(){e.instance=a.init(e.el),e.params.loading===!0&&e.instance.showLoading();var t=new Event("resize");e.resizeEventHandler=function(){e.instance.resize()},e.el.addEventListener("resize",e.resizeEventHandler,!1),window.onresize=function(){e.el.dispatchEvent(t)}})},update:function(e,t){var o=this,a=e;n.nextTick(function(){o.instance.setOption(a)})},unbind:function(){var e=this;e.instance.dispose(),e.el.removeEventListener("resize",e.resizeEventHandler,!1)}}},169:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{user:"咸蛋超人"}}}},170:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(98),s=n(a),r=o(175),i=n(r),c=o(97),u=n(c),d=o(96),l=n(d),p=o(167),f=n(p),v=o(148),h=o(99);t["default"]={data:function(){return{}},created:function(){var e=this;h(i["default"].mark(function t(){var o,n,a,s;return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=v("?"),!localStorage.getItem("kf_accessToken")){t.next=6;break}e.$router.go("/profile"),t.next=23;break;case 6:if(!o||!o.code){t.next=20;break}return console.log("code"),t.next=10,e.auth(l["default"].appid,o.code);case 10:return n=t.sent,console.log("res",n),localStorage.setItem("kf_accessToken",n.accessToken),t.next=15,e.getUserInfo(n.userid,n.accessToken);case 15:a=t.sent,console.log("userInfo",a),a.phone?(localStorage.setItem("kf_userInfo",(0,u["default"])(a)),e.$router.go("/profile")):(localStorage.setItem("kf_userInfo",(0,u["default"])(a)),e.$router.go("/signup")),t.next=23;break;case 20:s=f["default"].getAuthorizeURL(l["default"].appid,"http://joywill.cc/","wechat","snsapi_userinfo"),console.log(s),window.location.href=s;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](0),console.log(t.t0);case 28:case"end":return t.stop()}},t,this,[[0,25]])}))},methods:{auth:function(e,t){var o=this;return new s["default"](function(n,a){o.$http.get(l["default"].route.auth+"?appid="+e+"&code="+t).then(function(e){console.log(e);var t=e.body.userid,o=e.body.accessToken;n({userid:t,accessToken:o})})["catch"](function(e){a(e)})})},getUserInfo:function(e,t){var o=this;return new s["default"](function(n,a){o.$http.get(""+l["default"].route.user+e,{withCredentials:!0,headers:{Authorization:"Bearer "+t}}).then(function(e){console.log(e),n(e.body.data)})["catch"](function(e){a(e)})})}}}},171:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(148),o(99);t["default"]={data:function(){return{user:{}}},created:function(){this.user=localStorage.getItem("kf_userInfo")},methods:{}}},172:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(452),s=n(a);t["default"]={components:{vs:s["default"]},data:function(){return{users:[{nickname:"辛那克斯",keepdays:1,cont_keepdays:2,level:1,score:200,city:"xian",headimgurl:"http://cloudbean.qiniudn.com/hbg2-100x81-logo.png"},{nickname:"辛那克斯2",keepdays:1,cont_keepdays:2,level:1,score:200,city:"xian",headimgurl:"http://cloudbean.qiniudn.com/hbg2-100x81-logo.png"}]}}}},173:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(174),s=n(a),r=o(96),i=n(r);t["default"]={data:function(){return{}},methods:{signUp:function(){var e=this,t=this.phone,o=localStorage.getItem("kf_accessToken"),n=JSON.parse(localStorage.getItem("kf_userInfo")),a=(0,s["default"])(n,{phone:t});console.log("user",a),this.$http.put(""+i["default"].route.user+a._id,a,{withCredentials:!0,headers:{Authorization:"Bearer "+o}}).then(function(t){console.log(t),localStorage.setItem("kf_userInfo",t.body),e.$router.go("/profile")})["catch"](function(e){console.log(e)})}}}},435:function(e,t){},436:function(e,t){},437:function(e,t){},438:function(e,t){},439:function(e,t){},445:function(e,t){e.exports=' <div id=app class=container> <nav class="navbar navbar-fixed-bottom navbar-light bg-faded"> <a class=navbar-brand href=#>Joy & Will</a> <a class="btn btn-default" v-link="{ path: \'/auth\'}">Profile</a> <a class="btn btn-default" v-link="{ path: \'/rank\'}">Rank</a> <a class="btn btn-default" v-link="{ path: \'/signup\'}">Signup</a> </nav> <div id=routerDiv> <router-view></router-view> </div> </div> '},446:function(e,t){e.exports=" loading.... "},447:function(e,t){e.exports=' <div class=login _v-4d53885a=""> <h1 _v-4d53885a="">补充你的信息</h1> <img src=xxxHTMLLINKxxx0.56523439186093550.45517213180950833xxx alt=headpic _v-4d53885a=""> <input type=text placeholder=手机号 v-model=phone _v-4d53885a=""> <button class="btn btn-default" v-on:click=signUp _v-4d53885a="">login</button> </div> '},448:function(e,t){e.exports=' <div _v-6a845e04=""> <p _v-6a845e04="">login page. in the route /auth</p> user: {{user.displayName}} <div _v-6a845e04=""> </div> </div>'},449:function(e,t){e.exports=' <vs _v-7b602bc5=""></vs> <div class=card _v-7b602bc5=""> <div class=card-header _v-7b602bc5="">Rank</div> <div class=card-content _v-7b602bc5=""> <div class="list-block media-list" _v-7b602bc5=""> <ul _v-7b602bc5=""> <li class=item-content v-for="user in users" _v-7b602bc5=""> <div class=rank _v-7b602bc5=""> </div> <div class=item-media _v-7b602bc5=""> </div> <div class=item-inner _v-7b602bc5=""> <div class=item-title-row _v-7b602bc5=""> <div class=item-title _v-7b602bc5="">{{user.nickname}}</div> </div> <div class=item-subtitle _v-7b602bc5=""> Keep:{{user.keepdays}} | 连击:{{user.cont_keepdays}}</div> </div> <div class=like _v-7b602bc5=""> <i class="fa fa-heart fa-lg" _v-7b602bc5=""></i><br _v-7b602bc5=""> </div> </li> </ul> </div> </div> </div> '},450:function(e,t){e.exports=' <div class=vs _v-9440db94=""> {{user}} vs {{user}} </div> '},451:function(e,t,o){var n,a,s={};o(435),a=o(445),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(s).forEach(function(e){var t=s[e];r.computed[e]=function(){return t}})},452:function(e,t,o){var n,a,s={};o(439),n=o(169),a=o(450),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(s).forEach(function(e){var t=s[e];r.computed[e]=function(){return t}})},453:function(e,t,o){var n,a,s={};n=o(170),a=o(446),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(s).forEach(function(e){var t=s[e];r.computed[e]=function(){return t}})},454:function(e,t,o){var n,a,s={};o(437),n=o(171),a=o(448),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(s).forEach(function(e){var t=s[e];r.computed[e]=function(){return t}})},455:function(e,t,o){var n,a,s={};o(438),n=o(172),a=o(449),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(s).forEach(function(e){var t=s[e];r.computed[e]=function(){return t}})},456:function(e,t,o){var n,a,s={};o(436),n=o(173),a=o(447),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;a&&(r.template=a),r.computed||(r.computed={}),Object.keys(s).forEach(function(e){var t=s[e];r.computed[e]=function(){return t}})}});