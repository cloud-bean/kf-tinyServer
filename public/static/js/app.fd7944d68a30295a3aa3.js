webpackJsonp([2,0],{0:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var s=o(147),a=n(s),r=o(463),i=n(r),c=o(474),u=n(c),d=o(473),p=n(d),f=o(471),l=n(f),v=o(469),x=n(v),_=o(472),b=n(_),h=o(468),m=n(h),g=o(470),k=n(g);a["default"].use(u["default"]),a["default"].use(p["default"]),a["default"].directive("echarts",o(168));var y=new u["default"];y.map({"/":{component:m["default"]},"/rank":{component:l["default"]},"/auth":{component:x["default"]},"/signup":{component:b["default"]},"/profile":{component:k["default"]}}),y.start(i["default"],"app")},96:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={appid:"wxb3762a929cf9e070",appsecret:"0a607b7dc2ff4fa027b8594a99f9e086",route:{auth:"http://joywill.cc/admin/auth/",user:"http://120.25.227.156:7000/api/base/users/"}}},167:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e,t,o,n){var s="https://open.weixin.qq.com/connect/oauth2/authorize",a={appid:e,redirect_uri:t,response_type:"code",scope:n||"snsapi_base",state:o||""};return s+"?"+f.stringify(a)+"#wechat_redirect"}function a(e,t){localStorage.setItem("kf_accessToken",e),localStorage.setItem("kf_user",(0,p["default"])(t))}function r(e,t){var o=this;return new u["default"](function(n,s){o.$http.get("http://joywill.cc/admin/auth?appid="+e+"&code="+t).then(function(e){console.log(e);var t=e.userid,o=e.accessToken;n({userid:t,accessToken:o})})["catch"](function(e){s(e)})})}function i(e,t){var o=this;return new u["default"](function(n,s){o.$http.get("http://120.25.227.156:7000/api/base/users/"+e,{withCredentials:!0,headers:{Authorization:"Bearer "+t}}).then(function(e){console.log(e),n(e.data)})["catch"](function(e){s(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var c=o(98),u=n(c),d=o(97),p=n(d),f=o(450);t["default"]={getAuthorizeURL:s,storeUserInfo:a,auth:r,getUserInfo:i}},168:function(e,t,o){"use strict";var n=o(147),s=o(216);e.exports={deep:!0,params:["loading"],paramWatchers:{loading:function(e,t){var o=this;e===!0?o.instance.showLoading():o.instance.hideLoading()}},bind:function(){var e=this;n.nextTick(function(){e.instance=s.init(e.el),e.params.loading===!0&&e.instance.showLoading();var t=new Event("resize");e.resizeEventHandler=function(){e.instance.resize()},e.el.addEventListener("resize",e.resizeEventHandler,!1),window.onresize=function(){e.el.dispatchEvent(t)}})},update:function(e,t){var o=this,s=e;n.nextTick(function(){o.instance.setOption(s)})},unbind:function(){var e=this;e.instance.dispose(),e.el.removeEventListener("resize",e.resizeEventHandler,!1)}}},169:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{expOptions:{}}},created:function(){this.expOptions={title:{text:"ECharts 入门示例"},tooltip:{},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"销量",type:"bar",data:[5,20,36,10,10,20]}]}}}},170:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{exp:"1000",rank:"5",ponit:"30"}}}},171:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={}},172:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{user:"咸蛋超人"}}}},173:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(98),a=n(s),r=o(179),i=n(r),c=o(97),u=n(c),d=o(96),p=n(d),f=o(167),l=n(f),v=o(148),x=o(99);t["default"]={data:function(){return{}},created:function(){var e=this;x(i["default"].mark(function t(){var o,n,s,a;return i["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=v("?"),!localStorage.getItem("kf_accessToken")){t.next=6;break}e.$router.go("/profile"),t.next=23;break;case 6:if(!o||!o.code){t.next=20;break}return console.log("code"),t.next=10,e.auth(p["default"].appid,o.code);case 10:return n=t.sent,console.log("res",n),localStorage.setItem("kf_accessToken",n.accessToken),t.next=15,e.getUserInfo(n.userid,n.accessToken);case 15:s=t.sent,console.log("userInfo",s),s.phone?(localStorage.setItem("kf_userInfo",(0,u["default"])(s)),e.$router.go("/profile")):(localStorage.setItem("kf_userInfo",(0,u["default"])(s)),e.$router.go("/signup")),t.next=23;break;case 20:a=l["default"].getAuthorizeURL(p["default"].appid,"http://joywill.cc/","wechat","snsapi_userinfo"),console.log(a),window.location.href=a;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](0),console.log(t.t0);case 28:case"end":return t.stop()}},t,this,[[0,25]])}))},methods:{auth:function(e,t){var o=this;return new a["default"](function(n,s){o.$http.get(p["default"].route.auth+"?appid="+e+"&code="+t).then(function(e){console.log(e);var t=e.body.userid,o=e.body.accessToken;n({userid:t,accessToken:o})})["catch"](function(e){s(e)})})},getUserInfo:function(e,t){var o=this;return new a["default"](function(n,s){o.$http.get(""+p["default"].route.user+e,{withCredentials:!0,headers:{Authorization:"Bearer "+t}}).then(function(e){console.log(e),n(e.body.data)})["catch"](function(e){s(e)})})}}}},174:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o(148),o(99);t["default"]={data:function(){return{user:{}}},created:function(){this.user=localStorage.getItem("kf_userInfo")},methods:{}}},175:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(466),a=n(s),r=o(465),i=n(r),c=o(464),u=n(c);t["default"]={data:function(){return{}},ready:function(){this.user=localStorage.getItem("kf_userInfo")},components:{Info:a["default"],Expbar:i["default"],Chart:u["default"]}}},176:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(467),a=n(s);t["default"]={components:{vs:a["default"]},data:function(){return{users:[{nickname:"辛那克斯",keepdays:1,cont_keepdays:2,level:1,score:200,city:"xian",headimgurl:"http://cloudbean.qiniudn.com/hbg2-100x81-logo.png"},{nickname:"辛那克斯2",keepdays:1,cont_keepdays:2,level:1,score:200,city:"xian",headimgurl:"http://cloudbean.qiniudn.com/hbg2-100x81-logo.png"}]}}}},177:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(178),a=n(s),r=o(96),i=n(r);t["default"]={data:function(){return{}},methods:{signUp:function(){var e=this,t=this.phone,o=localStorage.getItem("kf_accessToken"),n=JSON.parse(localStorage.getItem("kf_userInfo")),s=(0,a["default"])(n.option,{phone:t});this.$http.put(""+i["default"].route.user+s._id,s,{withCredentials:!0,headers:{Authorization:"Bearer "+o}}).then(function(t){console.log(t),e.$router.go("/profile")})["catch"](function(e){console.log(e)})}}}},439:function(e,t){},440:function(e,t){},441:function(e,t){},442:function(e,t){},443:function(e,t){},444:function(e,t){},445:function(e,t){},446:function(e,t){},447:function(e,t){},453:function(e,t){e.exports=' <div id=app class=container> <nav class="navbar navbar-fixed-bottom navbar-light bg-faded"> <a class=navbar-brand href=#>Joy & Will</a> <a class="btn btn-default" v-link="{ path: \'/profile\'}">Profile</a> <a class="btn btn-default" v-link="{ path: \'/rank\'}">Rank</a> <a class="btn btn-default" v-link="{ path: \'/signup\'}">Signup</a> </nav> <div id=routerDiv> <router-view></router-view> </div> </div> '},454:function(e,t){e.exports=" loading.... "},455:function(e,t){e.exports=' <div _v-0dba5ffe=""> <p _v-0dba5ffe="">profile</p> user: {{user.displayName}} </div> '},456:function(e,t){e.exports=' <div class=exp _v-2819d162=""> <span _v-2819d162="">经验：{{ exp }} |</span> <span _v-2819d162="">排名：{{ rank }} |</span> <span _v-2819d162="">财富：{{ ponit }}</span> </div> '},457:function(e,t){e.exports=' <div class=login _v-4d53885a=""> <h1 _v-4d53885a="">补充你的信息</h1> <img src=xxxHTMLLINKxxx0.231514529792306470.81928455191455xxx alt=headpic _v-4d53885a=""> <input type=text placeholder=手机号 v-model=phone _v-4d53885a=""> <button class="btn btn-default" v-on:click=signUp _v-4d53885a="">login</button> </div> '},458:function(e,t){e.exports=' <div v-echarts=expOptions class=echart _v-5148a716=""> </div> '},459:function(e,t){e.exports=' <div _v-6a845e04=""> <p _v-6a845e04="">login page. in the route /auth</p> user: {{user.displayName}} <div _v-6a845e04=""> </div> </div>'},460:function(e,t){e.exports=' <vs _v-7b602bc5=""></vs> <div class=card _v-7b602bc5=""> <div class=card-header _v-7b602bc5="">Rank</div> <div class=card-content _v-7b602bc5=""> <div class="list-block media-list" _v-7b602bc5=""> <ul _v-7b602bc5=""> <li class=item-content v-for="user in users" _v-7b602bc5=""> <div class=rank _v-7b602bc5=""> </div> <div class=item-media _v-7b602bc5=""> </div> <div class=item-inner _v-7b602bc5=""> <div class=item-title-row _v-7b602bc5=""> <div class=item-title _v-7b602bc5="">{{user.nickname}}</div> </div> <div class=item-subtitle _v-7b602bc5=""> Keep:{{user.keepdays}} | 连击:{{user.cont_keepdays}}</div> </div> <div class=like _v-7b602bc5=""> <i class="fa fa-heart fa-lg" _v-7b602bc5=""></i><br _v-7b602bc5=""> </div> </li> </ul> </div> </div> </div> '},461:function(e,t){e.exports=' <div class=title _v-7f45b399="">Keep记录</div> <div class=keeprecord _v-7f45b399=""><span _v-7f45b399="">累计</span>24</div> <div class=detail _v-7f45b399=""> <div class=row _v-7f45b399=""> <div class=col-xs-4 _v-7f45b399=""> <div class=detailInfo _v-7f45b399=""> <div _v-7f45b399="">经验值</div> <div _v-7f45b399="">1000</div> </div> </div> <div class=col-xs-4 _v-7f45b399=""> <div class=detailInfo _v-7f45b399=""> <div _v-7f45b399="">经验值</div> <div _v-7f45b399="">1000</div> </div> </div> <div class=col-xs-4 _v-7f45b399=""> <div class=detailInfo _v-7f45b399=""> <div _v-7f45b399="">经验值</div> <div _v-7f45b399="">1000</div> </div> </div> </div> </div> '},462:function(e,t){e.exports=' <div class=vs _v-9440db94=""> {{user}} vs {{user}} </div> '},463:function(e,t,o){var n,s,a={};o(439),s=o(453),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(r.template=s),r.computed||(r.computed={}),Object.keys(a).forEach(function(e){var t=a[e];r.computed[e]=function(){return t}})},464:function(e,t,o){var n,s,a={};o(443),n=o(169),s=o(458),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(r.template=s),r.computed||(r.computed={}),Object.keys(a).forEach(function(e){var t=a[e];r.computed[e]=function(){return t}})},465:function(e,t,o){var n,s,a={};o(441),n=o(170),s=o(456),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(r.template=s),r.computed||(r.computed={}),Object.keys(a).forEach(function(e){var t=a[e];r.computed[e]=function(){return t}})},466:function(e,t,o){var n,s,a={};o(446),n=o(171),s=o(461),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(r.template=s),r.computed||(r.computed={}),Object.keys(a).forEach(function(e){var t=a[e];r.computed[e]=function(){return t}})},467:function(e,t,o){var n,s,a={};o(447),n=o(172),s=o(462),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(r.template=s),r.computed||(r.computed={}),Object.keys(a).forEach(function(e){var t=a[e];r.computed[e]=function(){return t}})},468:function(e,t,o){var n,s,a={};n=o(173),s=o(454),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(r.template=s),r.computed||(r.computed={}),Object.keys(a).forEach(function(e){var t=a[e];r.computed[e]=function(){return t}})},469:function(e,t,o){var n,s,a={};o(444),n=o(174),s=o(459),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(r.template=s),r.computed||(r.computed={}),Object.keys(a).forEach(function(e){var t=a[e];r.computed[e]=function(){return t}})},470:function(e,t,o){var n,s,a={};o(440),n=o(175),s=o(455),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(r.template=s),r.computed||(r.computed={}),Object.keys(a).forEach(function(e){var t=a[e];r.computed[e]=function(){return t}})},471:function(e,t,o){var n,s,a={};o(445),n=o(176),s=o(460),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(r.template=s),r.computed||(r.computed={}),Object.keys(a).forEach(function(e){var t=a[e];r.computed[e]=function(){return t}})},472:function(e,t,o){var n,s,a={};o(442),n=o(177),s=o(457),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(r.template=s),r.computed||(r.computed={}),Object.keys(a).forEach(function(e){var t=a[e];r.computed[e]=function(){return t}})}});