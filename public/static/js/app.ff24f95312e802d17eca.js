webpackJsonp([2,0],[function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.vue=void 0;var r=n(19),s=a(r),i=n(173),o=a(i),c=n(167),u=a(c),d=n(53),f=n(55),l=a(f),p=n(18),v=a(p);n(69),n(95),s.default.use(v.default),s.default.filter("dateFormat",d.dateFormat),s.default.filter("dateFormat1",d.dateFormat1),s.default.filter("level",d.level);e.vue=new s.default({el:"#app",store:l.default,router:u.default,render:function(t){return t(o.default)}})},,,,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.AUTH_CLIENT="AUTH_CLIENT",e.SET_LOGIN="SET_LOGIN",e.SET_JS_CONFIG="SET_JS_CONFIG",e.SET_USER_INFO="SET_USER_INFO",e.SET_USER_RECORDS="SET_USER_RECORDS",e.SET_TIP="SET_TIP",e.SET_USER_LEVEL="SET_USER_LEVEL",e.SET_RANK="SET_RANK",e.LIKE_FRIEND="LIKE_FRIEND",e.SET_TASKS="SET_TASKS",e.SET_TASK_QUANTITY_INFO="SET_TASK_QUANTITY_INFO",e.SET_ACTIVE_TASK="SET_ACTIVE_TASK",e.ADD_TASK_COMMENT="ADD_TASK_COMMENT",e.SET_ACTIVE_TASK_COMMENTS="SET_ACTIVE_TASK_COMMENTS",e.CLEAR_ACTIVE_TASK_COMMENTS="CLEAR_ACTIVE_TASK_COMMENTS",e.SET_ACTIVE_ORDER="SET_ACTIVE_ORDER",e.SET_ORDERS="SET_ORDERS",e.FETCH_STH="FETCH_STH",e.GOT_STH="GOT_STH",e.SET_USER_CARDS="SET_USER_CARDS",e.SET_USER_LOTTERY="SET_USER_LOTTERY"},,function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getLotteryCard=e.getLotterys=e.getCardBag=e.submitOrder=e.getJsConfig=e.getTips=e.getUserRecords=e.getTaskComment=e.leaveComment=e.setScore=e.getOrders=e.signUp=e.friendLike=e.getRanks=e.getTaskDoneQuantity=e.getTaskList=e.getUserInfo=e.auth=void 0;var r=n(52),s=a(r),i=n(25),o=a(i),c=n(55),u=a(c),d=n(100),f=o.default.server.bigServer,l=o.default.server.midServer,p=(e.auth=function(t,e){return new s.default(function(n,a){d.get(l+"/admin/auth/").query({appid:t,code:e}).then(function(t){var e=t.body.userid,a=t.body.accessToken;n({userid:e,accessToken:a})}).catch(function(t){a(t)})})},e.getUserInfo=function(t){return new s.default(function(e,n){d.get(f+"/users/"+t).set("Authorization","Bearer "+u.default.state.accessToken).then(function(t){e(t.body.data)}).catch(function(t){n(t)})})},e.getTaskList=function(t){return new s.default(function(e,n){d.get(f+"/tasks?page="+t+"&limit="+o.default.task.limit).set("Authorization","Bearer "+u.default.state.accessToken).then(function(t){var n=t.body.data.tasks,a=t.body.data.totalCount;e({tasks:n,taskQuantity:a})}).catch(function(t){n(t)})})},e.getTaskDoneQuantity=function(){return new s.default(function(t,e){d.get(f+"/records/doneCount").set("Authorization","Bearer "+u.default.state.accessToken).then(function(e){var n=e.body.data.doneCount;t({taskDoneQuantity:n})}).catch(function(t){e(t)})})},e.getRanks=function(t){return new s.default(function(e,n){d.get(f+"/ranks?page="+t+"&limit="+o.default.rank.limit).set("Authorization","Bearer "+u.default.state.accessToken).then(function(t){var n=t.body.data;e(n)}).catch(function(t){n(t)})})},e.friendLike=function(t){return new s.default(function(e,n){d.post(f+"/upVotes").send({userId:t.userid}).set("Authorization","Bearer "+u.default.state.accessToken).then(function(t){e(t.body.data)}).catch(function(t){n(t)})})},e.signUp=function(t,e){return new s.default(function(n,a){d.put(f+"/users/"+t).send(e).set("Authorization","Bearer "+u.default.state.accessToken).then(function(t){n(t)}).catch(function(t){a(t)})})},e.getOrders=function(){return new s.default(function(t,e){d.get(f+"/orders?limit=200").set("Authorization","Bearer "+u.default.state.accessToken).then(function(e){var n=e.body.data;t(n)}).catch(function(t){e(t)})})},e.setScore=function(t,e,n){return new s.default(function(a,r){d.post(f+"/orders/"+n+"/record").send({score:t,comments:e}).set("Authorization","Bearer "+u.default.state.accessToken).then(function(t){a(t)}).catch(function(t){r(t)})})},e.leaveComment=function(t,e){return new s.default(function(n,a){d.post(f+"/tasks/"+e+"/commits").send({content:t}).set("Authorization","Bearer "+u.default.state.accessToken).then(function(t){n(t)}).catch(function(t){a(t)})})},e.getTaskComment=function(t){return new s.default(function(e,n){d.get(f+"/tasks/"+t+"/commits").set("Authorization","Bearer "+u.default.state.accessToken).then(function(t){var n=t.body.data;e(n)}).catch(function(t){n(t)})})},e.getUserRecords=function(){return new s.default(function(t,e){d.get(f+"/records/me").set("Authorization","Bearer "+u.default.state.accessToken).then(function(e){var n=e.body.data;t(n)}).catch(function(t){e(t)})})},e.getTips=function(){return new s.default(function(t,e){d.get(f+"/documents?name=tip").set("Authorization","Bearer "+u.default.state.accessToken).then(function(e){var n=e.body.data[0];t(n)}).catch(function(t){e(t)})})},e.getJsConfig=function(t){return new s.default(function(e,n){d.post(l+"/admin/jssdk/").send({url:t}).then(function(t){e(t.body)}).catch(function(t){n(t)})})},function(){return new s.default(function(t,e){wx.chooseImage({count:1,sizeType:["compressed"],sourceType:["camera"],success:function(e){var n=e.localIds;wx.uploadImage({localId:n[0],isShowProgressTips:1,success:function(e){var n=e.serverId;t(n)}})}})})});e.submitOrder=function(t){return new s.default(function(e,n){p().then(function(a){var r={task:t,file:{filename:a,URL:a,type:0,created:Date.now()}};console.log(r),d.post(f+"/orders").send(r).set("Authorization","Bearer "+u.default.state.accessToken).then(function(t){e(t.body.data)}).catch(function(t){n(t)})}).catch(function(t){n(t)})})},e.getCardBag=function(){return new s.default(function(t,e){d.get(f+"/bags").set("Authorization","Bearer "+u.default.state.accessToken).then(function(e){var n=e.body.data;t(n)}).catch(function(t){e(t)})})},e.getLotterys=function(){return new s.default(function(t,e){d.get(f+"/lotterys").set("Authorization","Bearer "+u.default.state.accessToken).then(function(e){var n=e.body.data;t(n)}).catch(function(t){e(t)})})},e.getLotteryCard=function(t){return new s.default(function(e,n){d.get(f+"/drawLottery/"+t).set("Authorization","Bearer "+u.default.state.accessToken).then(function(t){var n=t.body.data;e(n)}).catch(function(t){n(t)})})}},,,,,function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,a){var r=i.default.route.weixin,s={appid:t,redirect_uri:e,response_type:"code",scope:a||"snsapi_base",state:n||""};return r+"?"+o.stringify(s)+"#wechat_redirect"}Object.defineProperty(e,"__esModule",{value:!0});var s=n(25),i=a(s),o=n(28);e.default={getAuthorizeURL:r}},,,,,,,,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={appid:"wxb3762a929cf9e070",server:{midServer:"http://joywill.cc",bigServer:"http://120.25.227.156:7000/api/base"},route:{auth:"/admin",weixin:"https://open.weixin.qq.com/connect/oauth2/authorize",testRedirect:"http://localhost:8080?code=123"},secret:{accessToken:"61d15ed47b45f3faea72e07ed561ec9e31723c0e81bb5805477722c4a5bdf571",userid:"58cf339913a9ca10230e1d25"},task:{limit:10},rank:{limit:20}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={fakeuser:{userid:"57f44a1674e8b8f5664c76c3",accessToken:"4307a0a134bc2471e47fb96ded140827295ae61932c19cda8d8f11f45eb4ee87"},user:{_id:"57f44a1674e8b8f5664c76c3",salt:"h0dw49cc9stoyjmkwevbva==",option:{phone:"15349216763",courses:[],ranklist:[],goldtoken:1400,level:18,exp:2e3},providerdata:{privilege:[],headimgurl:"http://wx.qlogo.cn/mmopen/piajxsqbraekqu4cx1pd3wojl9hnrlrigqn87runovowqrte1v3hqwntkfhde9vhjahamsziay1upibtrcxo2inicg/0",country:"china",province:"shaanxi",city:"xi an",language:"zh_cn",sex:1,nickname:"xinnix.designer.coder.loser",openid:"obspws96e0wy7zi63zozxjr1ap7w"},displayName:"辛昕",profileImageURL:"http://7xjhy3.com1.z0.glb.clouddn.com/Snip20161004_1.png",status:0,created:"2016-10-05t00:32:22.171z",roles:["user"],provider:"wechat",password:"55ad071lgsr5rvi2rdahqrqf85oi0qnpd+dwyiusy8dnrgpi/ccovc+yt+kesxqygxz50diixmaouf9k4fi9uq==",lastname:"",firstname:"",__v:0,roletype:"student"},task:[{_id:"57f65107a36ff5320351b187",course:"57ef82299f150a31c0465d83",type:"speak",subject:"练习单词发音",name:"二小班语音练习",courseIndex:"3",expireTime:"2016-10-09T03:55:00.000Z",created:"2016-10-06T13:26:31.687Z",goldToken:"30",experience:"100",difficult:"常规",isDone:!0,__v:0},{_id:"57f65107a36ff5320351b187",course:"57ef82299f150a31c0465d83",type:"read",subject:"文章读写",name:"二小班语音练习",courseIndex:"3",expireTime:"2016-10-09T03:55:00.000Z",created:"2016-10-06T13:26:31.687Z",goldToken:"30",experience:"100",difficult:"常规",isDone:!1,__v:0},{_id:"57f65107a36ff5320351b187",course:"57ef82299f150a31c0465d83",type:"write",subject:"短文写作",name:"二小班语音练习",courseIndex:"3",expireTime:"2016-10-09T03:55:00.000Z",created:"2016-10-06T13:26:31.687Z",goldToken:"30",experience:"100",difficult:"常规",isDone:!0,__v:0}]}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(17);e.dateFormat=function(t){var e=a(t).format("YYYY-MM-DD HH:mm");return e},e.dateFormat1=function(t){var e=new Date(t),n=new Date,r=e-n>0?a(t).format("YYYY-MM-DD HH:mm"):"已过期";return r},e.level=function(t){var e=[50,100,200,350,550,800,1100,1450,1850,2300,2800,3350,3950,4600,5300,6050,6850,7700,8600,9550],n=e.length;for(var a in e)if(t<e[a])return Number(a)+1;return n}},function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=t.commit,a=e.userid,r=e.accessToken;n(v.FETCH_STH),n(v.AUTH_CLIENT,{userid:a,accessToken:r}),n(v.GOT_STH)}function i(t,e){var n=t.commit;n(v.FETCH_STH),n(v.SET_LOGIN,e),n(v.GOT_STH)}Object.defineProperty(e,"__esModule",{value:!0}),e.getJsConfig=e.auth=void 0;var o=n(3),c=r(o),u=n(2),d=r(u);e.auth=function(){var t=(0,d.default)(c.default.mark(function t(e,n){var a=e.commit,r=n.appid,s=n.code;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(v.FETCH_STH),t.t0=a,t.t1=v.AUTH_CLIENT,t.next=5,l.auth(r,s);case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2),a(v.GOT_STH);case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),e.getJsConfig=function(){var t=(0,d.default)(c.default.mark(function t(e,n){var a=e.commit;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(v.FETCH_STH),t.t0=a,t.t1=v.SET_JS_CONFIG,t.next=5,l.getJsConfig(n);case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2),a(v.GOT_STH);case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}();e.authLocal=s,e.setLogin=i;var f=n(9),l=a(f),p=n(7),v=a(p)},function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s,i=n(13),o=r(i),c=n(19),u=r(c),d=n(1),f=r(d),l=n(54),p=a(l),v=n(7),_=a(v),m=n(169),h=r(m),k=n(172),T=r(k),g=n(170),y=r(g),C=n(171),S=r(C),b=n(168),E=r(b);u.default.use(f.default);var x={loading:!1,accessToken:"",userid:"",jsConfig:{},login:!1},R=(s={},(0,o.default)(s,_.AUTH_CLIENT,function(t,e){var n=e.userid,a=e.accessToken;t.userid=n,t.accessToken=a}),(0,o.default)(s,_.FETCH_STH,function(t){t.loading=!0}),(0,o.default)(s,_.GOT_STH,function(t){t.loading=!1}),(0,o.default)(s,_.SET_LOGIN,function(t,e){t.login=e}),(0,o.default)(s,_.SET_JS_CONFIG,function(t,e){t.jsConfig=e}),s);e.default=new f.default.Store({state:x,mutations:R,actions:p,modules:{profile:h.default,task:T.default,rank:y.default,score:S.default,card:E.default}})},function(t,e,n){var a,r;n(88),a=n(148);var s=n(213);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-8767638e",t.exports=a},,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),s=a(r),i=n(1),o=n(17);e.default={data:function(){return{selected:"主页"}},computed:(0,s.default)({},(0,i.mapState)({login:function(t){return t.login},user:function(t){return t.profile.user},loading:function(t){return t.loading}}),{loginDate:function(){return o().format("YYYY年MM月DD日")}}),watch:{},methods:{handleClick:function(){switch(this.selected){case"主页":this.$router.push("/profile");break;case"任务":this.$router.push("/task");break;case"排行":this.$router.push("/rank");break;case"卡包":this.$router.push("/cardBag");break;case"评分":this.$router.push("/teacherOrderList")}}}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),s=a(r),i=n(1);e.default={data:function(){return{}},props:["cardData"],mounted:function(){},methods:{},computed:(0,s.default)({},(0,i.mapState)({user:function(t){return t.profile.user}}),{lock:function(){if(this.cardData.card.level<this.user.option.level)return!0}}),components:{}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),s=a(r);e.default={props:["user"],components:{},methods:{level:function(t){var e=s.default.getLevel(t);return console.log(e),e}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["userList"],computed:{shortList:function(){return this.userList.slice(0,10)}}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=a(r),i=n(2),o=a(i),c=n(18);e.default={props:["handleClick","task"],data:function(){return{comment:""}},methods:{leaveMessage:function(){var t=this;return(0,o.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.comment),console.log(t.task._id),""!==t.comment){e.next=6;break}(0,c.Toast)("说点啥呢？"),e.next=10;break;case 6:return e.next=8,t.handleClick({content:t.comment,taskId:t.task._id});case 8:t.comment="",t.$router.push("/taskDetail");case 10:case"end":return e.stop()}},e,t)}))()}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["data"]}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(183),s=a(r);e.default={props:["myChartData"],components:{LineChart:s.default},created:function(){}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["orderData"],data:function(){return{}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["user","rankIndex","like","isMe"],data:function(){return{}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(17);e.default={props:["taskdata"],components:{},data:function(){return{logo:null,showM:!1,expire:!1,type:"read"}},created:function(){this.type=this.transType(this.taskdata.type);var t=new Date,e=new Date(this.taskdata.expireTime);this.expire=!(e-t>0)},methods:{show:function(){this.showM=!0},transType:function(t){var e=["口语","写作","测验","阅读","听力"],n=["speak","write","test","read","listen"],a=e.indexOf(this.taskdata.type);return n[a]}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["tip"],data:function(){return{display:!1}},components:{},methods:{close:function(){this.display=!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(99);n(17);e.default={props:["lineData"],data:function(){return{}},mounted:function(){a.Global.pixelRatio=2;var t=(a.Util,[]);this.lineData&&this.lineData.slice(0,10).reverse().forEach(function(e,n){t.push({index:n,score:e.score})});var e=new a.Chart({id:"c2"}),n={index:{type:"cat",range:[0,1],min:1,max:10},score:{}};e.axis("index",{label:{fontSize:12,rotate:20,autoRotate:!0}}),e.axis("score",{tickCount:10,max:100,alias:"分数",label:{fontSize:12}}),e.source(t,n),e.line().position("index*score"),this.$nextTick(function(){e.render()})}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(56),s=a(r),i=n(1);e.default={components:{MessageInput:s.default},methods:(0,i.mapActions)(["leaveComment"]),computed:(0,i.mapState)({activeTask:function(t){return t.task.activeTask}})}},function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),i=r(s),o=n(2),c=r(o),u=n(6),d=r(u),f=n(25),l=r(f),p=n(14),v=r(p),_=n(26),m=r(_),h=n(7),k=(a(h),n(1)),T=n(62);n(142),n(28);e.default={data:function(){return{mockdata:m.default}},computed:(0,k.mapState)({userid:function(t){return t.userid},jsConfig:function(t){return t.jsConfig},user:function(t){return t.profile.user}}),methods:(0,d.default)({},(0,k.mapActions)(["auth","getUserInfo","authLocal","getJsConfig","getUserRecords","getTip","setLogin","setUserLevel"]),{init:function(){var t=this;return(0,c.default)(i.default.mark(function e(){var n,a,r,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=T.parse(window.location.href,!0),a=n.query.code,r=window.location.href.split("#")[0],e.prev=3,!a){e.next=24;break}return e.next=8,t.auth({appid:l.default.appid,code:a});case 8:return e.next=10,t.getJsConfig(r);case 10:e.next=14;break;case 12:return e.next=14,t.authLocal({userid:l.default.secret.userid,accessToken:l.default.secret.accessToken});case 14:return wx.config(t.jsConfig),e.next=17,t.getUserRecords();case 17:return e.next=19,t.getTip();case 19:return e.next=21,t.getUserInfo(t.userid);case 21:t.user.option.phone?(t.setLogin(!0),t.$router.push("/profile")):t.$router.push("/signup"),e.next=27;break;case 24:s=l.default.route.testRedirect,s=v.default.getAuthorizeURL(l.default.appid,l.default.server.midServer,"wechat","snsapi_userinfo"),window.location.href=s;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(3),console.log(e.t0);case 32:case"end":return e.stop()}},e,t,[[3,29]])}))()}}),mounted:function(){var t=this;this.$nextTick(function(){t.init()})}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(175),s=a(r),i=n(178),o=a(i),c=n(182),u=a(c),d=n(1);e.default={data:function(){return{}},computed:(0,d.mapState)({user:function(t){return t.profile.user},userRecords:function(t){return t.profile.userRecords},tip:function(t){return t.profile.tip}}),mounted:function(){},methods:{},components:{Info:s.default,MyChart:o.default,Tips:u.default}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),s=a(r),i=n(180),o=a(i),c=n(14),u=(a(c),n(26)),d=(a(u),n(1));e.default={components:{rankItem:o.default},data:function(){return{loading:!1,hasMore:!0}},computed:(0,d.mapState)({ranks:function(t){return t.rank.ranks},myRank:function(t){return t.rank.myRank},page:function(t){return t.rank.page}}),mounted:function(){},methods:(0,s.default)({},(0,d.mapActions)(["getRanks","friendLike"]),{loadMoreRank:function(){var t=this;this.loading=!0,this.hasMore&&this.getRanks(this.page).then(function(e){e.length<10&&(t.hasMore=!1),t.loading=!1})}})}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=a(r),i=n(2),o=a(i),c=n(6),u=a(c),d=n(25),f=(a(d),n(14)),l=(a(f),n(1));e.default={data:function(){return{displayName:"",phone:"",slogan:""}},computed:(0,l.mapState)({user:function(t){return t.profile.user}}),methods:(0,u.default)({},(0,l.mapActions)(["signUp","setLogin"]),{submit:function(){var t=this;return(0,o.default)(s.default.mark(function e(){var n,a,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.displayName,a=t.phone,r=t.slogan,e.prev=3,e.next=6,t.signUp({displayName:n,phone:a,slogan:r});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:t.$router.push("/profile");case 12:case"end":return e.stop()}},e,t,[[3,8]])}))()},cleanUp:function(){this.phone="",this.displayName=""}})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{handleClick:function(){this.$router.push("/teacherOrderList")}}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=a(r),i=n(2),o=a(i),c=n(6),u=a(c),d=n(181),f=a(d),l=n(26),p=(a(l),n(14)),v=(a(p),n(1));e.default={components:{TaskItem:f.default},data:function(){return{loading:!1,hasMore:!0}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.init()})},methods:(0,u.default)({},(0,v.mapActions)(["getTaskList","taskDetail"]),{init:function(){var t=this;return(0,o.default)(s.default.mark(function e(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},handleClick:function(t){console.log(t),this.taskDetail(t),this.$router.push("/taskDetail")},loadMoreTask:function(){var t=this;this.getTaskList(this.page).then(function(e){e.length<10&&(t.hasMore=!1)})}}),computed:(0,u.default)({},(0,v.mapState)({tasks:function(t){return t.task.tasks},taskQuantityInfo:function(t){return t.task.taskQuantityInfo},page:function(t){return t.task.page}}),{progress:function(){return 100*this.taskQuantityInfo.totalDone/this.taskQuantityInfo.totalCount}})}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=a(r),i=n(2),o=a(i),c=n(6),u=a(c),d=n(176),f=a(d),l=n(177),p=a(l),v=n(56),_=(a(v),n(1)),m=n(18),h=n(66).markdown;e.default={data:function(){return{}},components:{MessageItem:p.default,HeadList:f.default,Toast:m.Toast},computed:(0,_.mapState)({task:function(t){return t.task.activeTask},comments:function(t){return t.task.activeComments}}),mounted:function(){this.getComments(this.task._id)},methods:(0,u.default)({},(0,_.mapActions)(["getComments","leaveComment","submitOrder"]),{tansMarkdown:function(t){return h.toHTML(t)},handleComment:function(){this.$router.push("/taskComment")},photo:function(){var t=this;return(0,o.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.submitOrder(t.task._id);case 2:return e.next=4,t.leaveComment({content:"我上传了作业",taskId:t.task._id});case 4:(0,m.Toast)({message:"作业提交成功",position:"middle",duration:3e3});case 5:case"end":return e.stop()}},e,t)}))()},record:function(){wx.startRecord()}})}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),s=a(r),i=(n(54),n(1));n(18);e.default={data:function(){return{localData:"",score:"",comments:""}},computed:(0,i.mapState)({activeOrder:function(t){return t.score.activeOrder}}),created:function(){this.getImageFromWechat()},methods:(0,s.default)({},(0,i.mapActions)(["setScore"]),{getImageFromWechat:function(){var t=this.activeOrder.files[0].URL;console.log("serverId:",t);var e=this;wx.downloadImage({serverId:t,isShowProgressTips:1,success:function(t){var n=t.localId;window.__wxjs_is_wkwebview?wx.getLocalImgData({localId:n,success:function(t){e.localData=t.localData}}):e.localData=n},fail:function(t){console.log("无资源")}})},handleClick:function(){var t=this,e=this.activeOrder._id,n=this.score,a=this.comments;this.setScore({score:n,comments:a,orderId:e}).then(function(){t.$router.push("/success")})}})}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),s=a(r),i=n(179),o=a(i),c=n(14),u=(a(c),n(26)),d=(a(u),n(1));e.default={components:{orderItem:o.default},data:function(){return{}},methods:(0,s.default)({},(0,d.mapActions)(["getOrders","orderDetail"]),{handleClick:function(t){console.log(t),this.orderDetail(t),this.$router.push("/orderDetail")}}),computed:(0,d.mapState)({orders:function(t){return t.score.orders}}),mounted:function(){var t=this;this.$nextTick(function(){t.getOrders()})}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=a(r),i=n(2),o=a(i),c=n(6),u=a(c),d=n(1),f=n(174),l=a(f),p=n(9);e.default={data:function(){return{}},computed:(0,d.mapState)({cards:function(t){return t.cardBag.cards}}),mounted:function(){var t=this;this.$nextTick(function(){t.getUserCards()})},methods:(0,u.default)({},(0,d.mapActions)(["getUserCards"]),{lottery:function(){var t=this;return(0,o.default)(s.default.mark(function e(){var n,a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.getLotterys)();case 2:return n=t.sent,t.next=5,(0,p.getLotteryCard)(n[0]._id);case 5:a=t.sent,console.log(a);case 7:case"end":return t.stop()}},e,t)}))()}}),components:{Card:l.default}}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),s=a(r),i=n(103),o=a(i),c=n(187),u=a(c),d=n(190),f=a(d),l=n(185),p=a(l),v=n(186),_=a(v),m=n(188),h=a(m),k=n(191),T=a(k),g=n(184),y=a(g),C=n(193),S=a(C),b=n(192),E=a(b),x=n(189),R=a(x),w=n(194),O=a(w);s.default.use(o.default),e.default=new o.default({routes:[{path:"/",component:p.default},{path:"/rank",component:u.default},{path:"/task",component:f.default},{path:"/signup",component:h.default},{path:"/profile",component:_.default},{path:"/taskDetail",component:T.default},{path:"/taskComment",component:y.default},{path:"/teacherOrderList",component:S.default},{path:"/orderDetail",component:E.default},{path:"/success",component:R.default},{path:"/cardBag",component:O.default}]})},function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s,i=n(3),o=r(i),c=n(2),u=r(c),d=n(13),f=r(d),l=n(7),p=a(l),v=n(9),_=a(v),m={cards:[],lottery:[]},h=(s={},(0,f.default)(s,p.SET_USER_CARDS,function(t,e){t.cards=e}),(0,f.default)(s,p.SET_USER_LOTTERY,function(t,e){t.lottery=e}),s),k={getUserCards:function(t){var e=this,n=t.commit;return(0,u.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=n,t.t1=p.SET_USER_CARDS,t.next=5,_.getCardBag();case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2),t.next=12;break;case 9:t.prev=9,t.t3=t.catch(0),console.log(t.t3);case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()},getUserLottery:function(t){var e=this,n=t.commit;return(0,u.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=n,t.t1=p.SET_USER_LOTTERY,t.next=5,_.getLotteryCard();case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2),t.next=12;break;case 9:t.prev=9,t.t3=t.catch(0),console.log(t.t3);case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()}};e.default={state:m,mutations:h,actions:k}},function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s,i=n(51),o=r(i),c=n(3),u=r(c),d=n(2),f=r(d),l=n(13),p=r(l),v=n(7),_=a(v),m=n(9),h=a(m),k=n(53),T={user:{},userRecords:{},tip:{},lotterys:[]},g=(s={},(0,p.default)(s,_.SET_USER_INFO,function(t,e){t.user=e}),(0,p.default)(s,_.SET_USER_RECORDS,function(t,e){t.userRecords=e}),(0,p.default)(s,_.SET_TIP,function(t,e){t.tip=e}),(0,p.default)(s,_.SET_USER_LEVEL,function(t,e){t.user.option.level=e}),(0,p.default)(s,_.USER_SIGNUP,function(t,e){t.user=e}),s),y={getUserInfo:function(t,e){var n=this,a=t.commit;return(0,f.default)(u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(_.FETCH_STH),t.t0=a,t.t1=_.SET_USER_INFO,t.next=6,h.getUserInfo(e);case 6:t.t2=t.sent,(0,t.t0)(t.t1,t.t2),a(_.GOT_STH),t.next=14;break;case 11:t.prev=11,t.t3=t.catch(0),console.log(t.t3);case 14:case"end":return t.stop()}},t,n,[[0,11]])}))()},getUserRecords:function(t){var e=this,n=t.commit;return(0,f.default)(u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(_.FETCH_STH),t.t0=n,t.t1=_.SET_USER_RECORDS,t.next=6,h.getUserRecords();case 6:t.t2=t.sent,(0,t.t0)(t.t1,t.t2),n(_.GOT_STH),t.next=14;break;case 11:t.prev=11,t.t3=t.catch(0),console.log(t.t3);case 14:case"end":return t.stop()}},t,e,[[0,11]])}))()},getTip:function(t){var e=this,n=t.commit;return(0,f.default)(u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(_.FETCH_STH),t.t0=n,t.t1=_.SET_TIP,t.next=5,h.getTips();case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2),n(_.GOT_STH);case 8:case"end":return t.stop()}},t,e)}))()},signUp:function(t,e){var n=this,a=t.commit,r=t.state,s=e.displayName,i=e.phone,c=e.slogan;return(0,f.default)(u.default.mark(function t(){var e,d,f;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(_.FETCH_STH),e=r.user,d=(0,o.default)({},e.option,{phone:i},{slogan:c}),f=(0,o.default)({},e,{option:d},{displayName:s}),t.next=6,h.signUp(e._id,f);case 6:a(_.SET_USER_INFO,f),a(_.SET_LOGIN,!0),a(_.GOT_STH);case 9:case"end":return t.stop()}},t,n)}))()},setUserLevel:function(t,e){var n=t.commit;n(_.SET_USER_LEVEL,(0,k.level)(e))}};e.default={state:T,mutations:g,actions:y}},function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s,i=n(3),o=r(i),c=n(2),u=r(c),d=n(13),f=r(d),l=n(7),p=a(l),v=n(9),_=a(v),m={ranks:[],myRank:{},page:1},h=(s={},(0,f.default)(s,p.SET_RANK,function(t,e){t.page++,t.ranks=t.ranks.concat(e.rankList),t.myRank=e.me}),(0,f.default)(s,p.LIKE_FRIEND,function(t,e){t.ranks[e].isUpVoted=!0,t.ranks[e].upCount++}),s),k={getRanks:function(t,e){var n=this,a=t.commit;return(0,u.default)(o.default.mark(function t(){var r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(p.FETCH_STH),t.next=3,_.getRanks(e);case 3:return r=t.sent,a(p.SET_RANK,r),a(p.GOT_STH),t.abrupt("return",r);case 7:case"end":return t.stop()}},t,n)}))()},friendLike:function(t,e){var n=this,a=t.commit,r=e.user,s=e.index;return(0,u.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.isUpVoted){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,_.friendLike(r);case 4:a(p.LIKE_FRIEND,s-1);case 5:case"end":return t.stop()}},t,n)}))()}};e.default={state:m,mutations:h,actions:k}},function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){
return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s,i=n(3),o=r(i),c=n(2),u=r(c),d=n(13),f=r(d),l=n(7),p=a(l),v=n(9),_=a(v),m={orders:[],activeOrder:{}},h=(s={},(0,f.default)(s,p.SET_ORDERS,function(t,e){t.orders=e}),(0,f.default)(s,p.SET_ACTIVE_ORDER,function(t,e){t.activeOrder=e}),s),k={getOrders:function(t){var e=this,n=t.commit;return(0,u.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(p.FETCH_STH),t.t0=n,t.t1=p.SET_ORDERS,t.next=5,_.getOrders();case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2),n(p.GOT_STH);case 8:case"end":return t.stop()}},t,e)}))()},orderDetail:function(t,e){var n=t.commit,a=t.state,r=a.orders,s=r[e];n(p.SET_ACTIVE_ORDER,s)},setScore:function(t,e){var n=this,a=t.commit,r=e.score,s=e.comments,i=e.orderId;return(0,u.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(p.FETCH_STH),t.next=3,_.setScore(r,s,i);case 3:a(p.GOT_STH);case 4:case"end":return t.stop()}},t,n)}))()}};e.default={state:m,mutations:h,actions:k}},function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s,i=n(3),o=r(i),c=n(2),u=r(c),d=n(13),f=r(d),l=n(7),p=a(l),v=n(9),_=a(v),m={taskQuantityInfo:{},tasks:[],activeTask:{},activeComments:[],page:1},h=(s={},(0,f.default)(s,p.ADD_TASK_COMMENT,function(t,e){t.activeComments.splice(0,0,e)}),(0,f.default)(s,p.SET_ACTIVE_TASK_COMMENTS,function(t,e){t.activeComments=e}),(0,f.default)(s,p.CLEAR_ACTIVE_TASK_COMMENTS,function(t){t.activeComments=[]}),(0,f.default)(s,p.SET_TASK_QUANTITY_INFO,function(t,e){t.taskQuantityInfo=e}),(0,f.default)(s,p.SET_ACTIVE_TASK,function(t,e){t.activeTask=e}),(0,f.default)(s,p.SET_TASKS,function(t,e){t.page++,t.tasks=t.tasks.concat(e),t.tasks.sort(function(t,e){return new Date(t.expireTime)>new Date(e.expireTime)?-1:1})}),s),k={getTaskList:function(t,e){var n=this,a=t.commit;return(0,u.default)(o.default.mark(function t(){var r,s,i,c,u,d;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(p.FETCH_STH),t.next=3,_.getTaskList(e);case 3:return r=t.sent,s=r.tasks,i=r.taskQuantity,t.next=8,_.getTaskDoneQuantity();case 8:return c=t.sent,u=c.taskDoneQuantity,d={totalDone:u,totalCount:i},a(p.SET_TASK_QUANTITY_INFO,d),a(p.SET_TASKS,s),a(p.GOT_STH),t.abrupt("return",s);case 15:case"end":return t.stop()}},t,n)}))()},taskDetail:function(t,e){var n=t.commit,a=t.state;n(p.FETCH_STH);var r=a.tasks,s=r[e];n(p.SET_ACTIVE_TASK,s)},leaveComment:function(t,e){var n=this,a=t.commit,r=e.content,s=e.taskId;return(0,u.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(p.FETCH_STH),t.t0=a,t.t1=p.ADD_TASK_COMMENT,t.next=5,_.leaveComment(r,s);case 5:t.t2=t.sent,(0,t.t0)(t.t1,t.t2),a(p.GOT_STH);case 8:case"end":return t.stop()}},t,n)}))()},getComments:function(t,e){var n=this,a=t.commit;return(0,u.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(p.FETCH_STH),a(p.CLEAR_ACTIVE_TASK_COMMENTS),t.t0=a,t.t1=p.SET_ACTIVE_TASK_COMMENTS,t.next=6,_.getTaskComment(e);case 6:t.t2=t.sent,(0,t.t0)(t.t1,t.t2),a(p.GOT_STH);case 9:case"end":return t.stop()}},t,n)}))()},submitOrder:function(t,e){var n=this,a=t.commit;return(0,u.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(p.FETCH_STH),t.next=3,_.submitOrder(e);case 3:a(p.GOT_STH);case 4:case"end":return t.stop()}},t,n)}))()}};e.default={state:m,mutations:h,actions:k}},function(t,e,n){var a,r;n(89),a=n(144);var s=n(214);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-e458bdde",t.exports=a},function(t,e,n){var a,r;n(83),a=n(145);var s=n(208);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-491b090e",t.exports=a},function(t,e,n){var a,r;n(81),a=n(146);var s=n(206);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-3deebb38",t.exports=a},function(t,e,n){var a,r;n(78),a=n(147);var s=n(203);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-26a27654",t.exports=a},function(t,e,n){var a,r;n(71),a=n(149);var s=n(196);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-06d93c74",t.exports=a},function(t,e,n){var a,r;n(79),a=n(150);var s=n(204);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-319d3968",t.exports=a},function(t,e,n){var a,r;n(85),a=n(151);var s=n(210);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-6ee5ed3b",t.exports=a},function(t,e,n){var a,r;n(90),a=n(152);var s=n(215);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-e8d71ed6",t.exports=a},function(t,e,n){var a,r;n(84),a=n(153);var s=n(209);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-6066f0ee",t.exports=a},function(t,e,n){var a,r;n(76),a=n(154);var s=n(201);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-2020a8ee",t.exports=a},function(t,e,n){var a,r;n(80),a=n(155);var s=n(205);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-3968ac79",t.exports=a},function(t,e,n){var a,r;n(91),a=n(156);var s=n(216);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,t.exports=a},function(t,e,n){var a,r;n(82),a=n(157);var s=n(207);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-484f08e8",t.exports=a},function(t,e,n){var a,r;n(86),a=n(158);var s=n(211);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-7314be81",t.exports=a},function(t,e,n){var a,r;n(87),a=n(159);var s=n(212);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-7d5cc4bc",t.exports=a},function(t,e,n){var a,r;n(92),a=n(160);var s=n(217);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-fc76fe20",t.exports=a},function(t,e,n){var a,r;n(74),a=n(161);var s=n(199);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-1ce4b7db",t.exports=a},function(t,e,n){var a,r;n(75),a=n(162);var s=n(200);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-1fdc96dd",t.exports=a},function(t,e,n){var a,r;n(70),a=n(163);var s=n(195);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-005619e4",t.exports=a},function(t,e,n){var a,r;n(77),a=n(164);var s=n(202);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-256ced56",t.exports=a},function(t,e,n){var a,r;n(72),a=n(165);var s=n(197);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-1261fe22",t.exports=a},function(t,e,n){var a,r;n(73),a=n(166);var s=n(198);r=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(r=a=a.default),"function"==typeof r&&(r=r.options),r.render=s.render,r.staticRenderFns=s.staticRenderFns,r._scopeId="data-v-127c4c50",t.exports=a},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"task-detail"},[n("div",{staticClass:"task-title"},[t._v(t._s(t.task.name))]),t._v(" "),n("div",{staticClass:"task-head"},[n("div",[t._v("发布 "+t._s(t._f("dateFormat")(t.task.created)))]),t._v(" "),n("div",[t._v("过期 "+t._s(t._f("dateFormat")(t.task.expireTime)))]),t._v(" "),n("div",[t._v("类型 "+t._s(t.task.type))])]),t._v(" "),n("div",{attrs:{id:"task-desc"}},[n("div",{domProps:{innerHTML:t._s(t.tansMarkdown(t.task.description))}}),t._v(" "),t.task.isDone?n("div",{domProps:{innerHTML:t._s(t.tansMarkdown(t.task.summary))}}):t._e(),t._v(" "),n("div",{staticClass:"task-footer"},[n("head-list",{attrs:{"user-list":t.task.taskDoneUsers}})],1)]),t._v(" "),n("div",{staticClass:"button-area Grid -around -middle"},[n("div",{staticClass:"Cell -5of12"},[n("mt-button",{attrs:{type:"primary",size:"large"},on:{click:t.handleComment}},[n("i",{staticClass:"fa fa-commenting",slot:"icon"}),t._v("\n             讨论任务")])],1),t._v(" "),n("div",{staticClass:"Cell -5of12"},[n("mt-button",{attrs:{type:"primary",size:"large"},on:{click:t.photo}},[n("i",{staticClass:"fa fa-camera ",slot:"icon"}),t._v("\n               拍照提交\n           ")])],1)])]),t._v(" "),t._l(t.comments,function(t){return n("div",{staticClass:"message-item"},[n("message-item",{attrs:{data:t}})],1)})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message-item"},[n("div",{staticClass:"headimg"},[n("img",{staticClass:"userhead",attrs:{src:t.data.user.profileImageURL,alt:""}})]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"username"},[t._v("\n        "+t._s(t.data.user.displayName)+" "),n("span",{staticClass:"time"},[t._v("@ "+t._s(t._f("dateFormat")(t.data.created)))])]),t._v(" "),n("div",{staticClass:"message"},[t._v("\n          "+t._s(t.data.content)+"\n      ")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"card no-margin"},[n("div",{staticClass:"card-content"},t._l(t.orders,function(e,a){return n("div",{staticClass:"rank-list"},[n("order-item",{staticClass:"rank-item",attrs:{orderData:e},nativeOn:{click:function(e){t.handleClick(a)}}})],1)}))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"bag-title"},[t._v("\r\n    我的卡包\r\n  ")]),t._v(" "),n("div",{staticClass:"Grid -left"},t._l(t.cards,function(t){return n("div",{staticClass:"Cell -6of12 card-item"},[n("card",{attrs:{"card-data":t}})],1)})),t._v(" "),n("div",{},[n("button",{staticClass:"button button-big",on:{click:t.lottery}},[t._v("抽奖")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center"},[n("i",{staticClass:"fa fa-check-circle my-icon",attrs:{"aria-hidden":"true"}}),t._v(" "),n("p",[t._v("操作完成")]),t._v(" "),n("mt-button",{attrs:{type:"default",size:"large",plain:""},on:{click:t.handleClick}},[t._v("返回评分列表")])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"blue-bg"},[t._v("\r\n    已完成\r\n    "),n("div",{staticClass:"task-info"},[t._v("\r\n      "+t._s(t.taskQuantityInfo.totalDone)+" / "+t._s(t.taskQuantityInfo.totalCount)),n("span",{staticClass:"grey-small"})])]),t._v(" "),n("mt-progress",{attrs:{value:t.progress,barHeight:2}}),t._v(" "),n("div",{staticClass:"tasklist"},[0==t.tasks.length?n("p",{staticClass:"no-task"},[t._v("\r\n      暂无任务\r\n    ")]):t._e(),t._v(" "),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMoreTask,expression:"loadMoreTask"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},t._l(t.tasks,function(e,a){return n("div",[n("task-item",{attrs:{taskdata:e},nativeOn:{click:function(e){t.handleClick(a)}}})],1)}))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cite",class:{shut:t.display}},[n("i",{staticClass:"fa fa-remove close",on:{click:t.close}}),t._v(" "),n("img",{staticClass:"back-img",attrs:{src:t.tip.file.URL+"?imageView2/2/w/414/h/190/q/75|imageslim",alt:""}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"score"},[n("div",{staticClass:"info"},[n("div",[t._v(t._s(t.activeOrder.task.name))]),t._v(" "),n("div",[t._v("学生姓名："+t._s(t.activeOrder.student.displayName))]),t._v(" "),n("div",[t._v("提交时间："+t._s(t._f("dateFormat")(t.activeOrder.created)))])]),t._v(" "),n("div",{staticClass:"inputarea"},[n("mt-field",{attrs:{placeholder:"评分",type:"number"},model:{value:t.score,callback:function(e){t.score=e},expression:"score"}}),t._v(" "),n("mt-field",{attrs:{placeholder:"评语",type:"textarea",rows:"4"},model:{value:t.comments,callback:function(e){t.comments=e},expression:"comments"}}),t._v(" "),n("mt-button",{attrs:{type:"primary",size:"large"},on:{click:t.handleClick}},[t._v("提交")])],1),t._v(" "),n("div",{staticClass:"pic"},[n("img",{staticStyle:{display:"block"},attrs:{src:t.localData,width:"100%"}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"head-list"},t._l(t.shortList,function(t){return n("div",[n("img",{attrs:{src:t.profileImageURL,alt:""}})])})),t._v(" "),n("span",{staticClass:"info"},[t._v(t._s(t.userList.length)+"人完成任务")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chart"},[n("div",{staticClass:"chart-title"},[t._v("\n    成绩趋势\n  ")]),t._v(" "),n("line-chart",{attrs:{"line-data":t.myChartData["测验"]}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{staticStyle:{width:"100%"},attrs:{id:"c2"}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"userhead"},[n("img",{staticClass:"avatar",attrs:{src:t.user.profileImageURL,alt:""}}),t._v(" "),n("div",{staticClass:"name"},[t._v(t._s(t.user.displayName))]),t._v(" "),n("div",{staticClass:"slogan"},[t._v(t._s(t.user.option.slogan||"Learning with joy, achieving with will."))])]),t._v(" "),n("div",{staticClass:"info Grid"},[n("div",{staticClass:"item Cell -4of12"},[n("div",{staticClass:"detailInfo"},[n("div",[t._v("经验")]),t._v(" "),n("div",{staticClass:"number"},[t._v("\n          "+t._s(t.user.option.exp)+"\n        ")])])]),t._v(" "),n("div",{staticClass:"item Cell -4of12"},[n("div",{staticClass:"detailInfo"},[n("div",[t._v("悦币")]),t._v(" "),n("div",{staticClass:"number"},[t._v("\n          "+t._s(t.user.option.goldToken)+"\n        ")])])]),t._v(" "),n("div",{staticClass:"item Cell -4of12"},[n("div",{staticClass:"detailInfo"},[n("div",[t._v("等级")]),t._v(" "),n("div",{staticClass:"number"},[t._v("\n          "+t._s(t._f("level")(t.user.option.exp))+"\n        ")])])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"jw-card Grid -left"},[n("div",{staticClass:"card-color"}),t._v(" "),n("div",{staticClass:"card-desc Grid -left "},[n("div",{staticClass:"Cell "},[n("div",{staticClass:"card-name"},[t._v("\r\n        "+t._s(t.cardData.card.name)+"\r\n      ")]),t._v(" "),n("div",{staticClass:"card-content"},[t._v("\r\n        "+t._s(t.cardData.card.playScript)+"\r\n      ")])]),t._v(" "),n("div",{staticClass:"Cell"},[n("img",{staticClass:"card-img",class:{lock:t.lock},attrs:{src:t.cardData.card.file.URL+"?imageView2/2/w/157/h/200/q/75|imageslim",alt:""}})])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task-item",class:{mask:t.expire}},[n("div",{staticClass:"left",class:[t.type]}),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"task-content"},[n("div",{staticClass:"title"},[t._v(t._s(t.taskdata.name))]),t._v(" "),n("div",{staticClass:"gery"},[t._v(t._s(t._f("dateFormat1")(t.taskdata.expireTime))+" # "),n("span",{staticClass:"gery"},[t._v(t._s(t.taskdata.type))])])]),t._v(" "),n("div",{staticClass:"task-footer"},[n("span",[t._v("难度:"+t._s(t.taskdata.difficult))]),t._v(" "),n("span",[t._v("经验:"+t._s(t.taskdata.exp))]),t._v(" "),n("span",[t._v("悦币:"+t._s(t.taskdata.goldToken))]),t._v(" "),t.taskdata.isDone?n("span",[t._v("完成")]):n("span",{staticStyle:{color:"red"}},[t._v("未完成")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"white-bg"},[n("p",[n("span",{staticClass:"name"},[t._v("["+t._s(t.orderData.student.displayName)+"]")]),t._v(" 提交答案")]),t._v(" "),n("p",[t._v(t._s(t._f("dateFormat")(t.orderData.created)))]),t._v(" "),n("p",[t._v(t._s(t.orderData.task.name))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"profile"},[n("info",{attrs:{user:t.user}}),t._v(" "),n("div",{staticClass:"tip"},[n("tips",{attrs:{tip:t.tip}})],1),t._v(" "),n("div",{staticClass:"chart"},[n("my-chart",{attrs:{"my-chart-data":t.userRecords}})],1),t._v(" "),n("mt-cell",{attrs:{title:"我的排名",label:"完成任务越高，排行越靠前","is-link":""}}),t._v(" "),n("mt-cell",{attrs:{title:"我的宝箱",label:"完成任务获取抽奖机会","is-link":""}}),t._v(" "),n("mt-cell",{attrs:{title:"我的卡包",label:"我拥有的所有卡牌","is-link":""}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"my-rank"},[n("rank-item",{staticClass:"rank-item",attrs:{user:t.myRank,"rank-index":t.myRank.rankIndex,"is-me":!0}})],1),t._v(" "),n("div",{staticClass:"divide"}),t._v(" "),n("div",{staticClass:"card no-margin"},[n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMoreRank,expression:"loadMoreRank"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"0"}},t._l(t.ranks,function(e,a){return n("div",{staticClass:"rank-list"},[n("rank-item",{staticClass:"rank-item",attrs:{user:e,"rank-index":a+1,like:t.friendLike}})],1)}))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-area"},[t._v("\n    讨论区\n  "),t._v(" "),n("mt-field",{attrs:{type:"textarea",rows:"4"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),t._v(" "),n("mt-button",{attrs:{type:"primary",size:"large"},on:{click:t.leaveMessage}},[t._v("留言")])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[t.login&&t.user?n("div",[n("nav",[n("mt-tabbar",{attrs:{fixed:""},nativeOn:{click:function(e){t.handleClick(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[n("mt-tab-item",{attrs:{id:"主页"}},[n("i",{staticClass:"fa fa-user-circle-o",attrs:{"aria-hidden":"true"},slot:"icon"}),t._v("\r\n              主页\r\n          ")]),t._v(" "),n("mt-tab-item",{attrs:{id:"任务"}},[n("i",{staticClass:"fa fa-calendar-check-o",attrs:{"aria-hidden":"true"},slot:"icon"}),t._v("\r\n              任务\r\n          ")]),t._v(" "),n("mt-tab-item",{attrs:{id:"排行"}},[n("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"},slot:"icon"}),t._v("\r\n              排行\r\n          ")]),t._v(" "),"teacher"==t.user.roleType?n("mt-tab-item",{attrs:{id:"评分"}},[n("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"},slot:"icon"}),t._v("\r\n              评分\r\n          ")]):t._e()],1)],1)]):t._e(),t._v(" "),n("div",{staticClass:"content pad-bottom"},[n("router-view")],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.login?t._e():n("div",{staticClass:"init"},[n("div",{staticClass:"time"},[t._v("\r\n       "+t._s(t.loginDate)+"\r\n    ")]),t._v(" "),n("div",{staticClass:"slogan"},[t._v("\r\n      遇见你，真好\r\n    ")]),t._v(" "),n("div",{staticClass:"logo"})])]),t._v(" "),t.loading?n("div",{staticClass:"mask opacity"},[n("div",{staticClass:"background"},[t._v("\r\n      JOYBOX\r\n    ")]),t._v(" "),n("div",{staticClass:"spinner"},[n("mt-spinner",{attrs:{type:"triple-bounce",color:"#26a2ff",size:40}})],1)]):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rank-item"},[n("div",{staticClass:"rank-left"},[n("span",{staticClass:"rank-index"},[t._v(t._s(t.rankIndex))]),t._v(" "),n("img",{staticClass:"headimg",attrs:{src:t.user.profileImageURL}}),t._v(" "),n("span",{staticClass:"name"},[n("div",{},[t._v("\n                "+t._s(t.user.displayName)+" Lv."+t._s(t._f("level")(t.user.exp))+"\n              ")]),t._v(" "),this.isMe?t._e():n("div",{staticClass:"grey-small"},[t._v("\n                收获"+t._s(t.user.totalVoteCount)+"赞\n              ")])])]),t._v(" "),n("div",{staticClass:"rank-right"},[n("div",{staticClass:"exp"},[t._v("\n                "+t._s(t.user.exp)+"\n              ")]),t._v(" "),this.isMe?t._e():n("div",{staticClass:"like"},[n("div",{staticClass:"likenum"},[t._v("\n                  "+t._s(t.user.upCount)+"\n              ")]),t._v(" "),n("div",{staticClass:"likeicon",on:{click:function(e){t.like({user:t.user,index:t.rankIndex})}}},[n("i",{staticClass:"fa fa-heart fa-lg ",class:{active:t.user.isUpVoted,inactive:!t.user.isUpVoted}})])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("message-input",{attrs:{"handle-click":t.leaveComment,task:t.activeTask}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signup"},[n("header",{staticClass:"header"},[n("mt-header",{attrs:{title:"请补全信息"}}),t._v(" "),n("div",{staticClass:"headimg"},[n("img",{staticClass:"avatar",attrs:{src:t.user.profileImageURL,alt:""}}),t._v(" "),n("p",[n("span",{staticClass:"name"},[t._v(t._s(t.displayName))])])])],1),t._v(" "),n("div",{staticClass:"field"},[n("mt-field",{attrs:{label:"用户名",placeholder:"请输入用户名"},model:{value:t.displayName,callback:function(e){t.displayName=e},expression:"displayName"}}),t._v(" "),n("mt-field",{attrs:{label:"手机号",placeholder:"请输入手机号",type:"tel"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),n("mt-field",{attrs:{label:"我的宣言",placeholder:"我的宣言"},model:{value:t.slogan,callback:function(e){t.slogan=e},expression:"slogan"}}),t._v(" "),n("div",{staticClass:"submit"},[n("mt-button",{attrs:{size:"large",type:"primary"}},[t._v("提交")])],1)],1)])},staticRenderFns:[]}},function(t,e){}]);